<!DOCTYPE html>
<html>
<head>
	<title>Tic Tac Toe</title>
</head>
<body>

	<h1>Tic Tac Toe</h1>

	<table>
		<tr>
			<td id="0"></td>
			<td id="1"></td>
			<td id="2"></td>
		</tr>
		<tr>
			<td id="3"></td>
			<td id="4"></td>
			<td id="5"></td>
		</tr>
		<tr>
			<td id="6"></td>
			<td id="7"></td>
			<td id="8"></td>
		</tr>
	</table>

	<p id="message"></p>

	<script>
		var currentPlayer = "X";
		var moves = 0;
		var cells = document.getElementsByTagName("td");
		var message = document.getElementById("message");

		function checkWin() {
			var winCombinations = [
				[0, 1, 2],
				[3, 4, 5],
				[6, 7, 8],
				[0, 3, 6],
				[1, 4, 7],
				[2, 5, 8],
				[0, 4, 8],
				[2, 4, 6]
			];

			for (var i = 0; i < winCombinations.length; i++) {
				var a = winCombinations[i][0];
				var b = winCombinations[i][1];
				var c = winCombinations[i][2];

				if (cells[a].textContent === currentPlayer && cells[b].textContent === currentPlayer && cells[c].textContent === currentPlayer) {
					message.textContent = "Player " + currentPlayer + " wins!";
					return true;
				}
			}

			return false;
		}

		for (var i = 0; i < cells.length; i++) {
			cells[i].addEventListener("click", function() {
				if (this.textContent !== "") {
					return;
				}

				this.textContent = currentPlayer;

				if (checkWin()) {
					for (var i = 0; i < cells.length; i++) {
						cells[i].removeEventListener("click", arguments.callee);
					}
					return;
				}

				moves++;

				if (moves === 9) {
					message.textContent = "Tie game!";
					return;
				}

				currentPlayer = currentPlayer === "X" ? "O" : "X";
			});
		}
	</script>

</body>
</html>
