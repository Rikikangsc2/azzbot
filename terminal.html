<form method="POST" enctype="multipart/form-data" action="https://telegra.ph/upload">
  <input type="file" name="file" id="file">
  <input type="hidden" name="quick" value="true">
  <input type="submit" value="Upload">
</form>

<script>
  document.querySelector('form').addEventListener('submit', async function(event) {
    event.preventDefault();
    const form = event.target;
    const formData = new FormData(form);
    const response = await fetch(form.action, {
      method: 'POST',
      body: formData
    });
    const text = await response.text();
    const url = text.match(/https:\/\/telegra\.ph\/file\/[a-zA-Z0-9]+/)[0];
    const img = document.createElement('img');
    img.src = url;
    document.body.appendChild(img);
  });
</script>
